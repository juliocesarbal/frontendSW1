(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},1129:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(9521),a(1506),a(5866);var r=a(3191),s=a(8716),o=a(7922),i=a.n(o),n=a(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);a.d(t,l);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9521)),"C:\\Users\\julio\\OneDrive\\Escritorio\\Proyectos\\SW1 Examen\\frontend\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"C:\\Users\\julio\\OneDrive\\Escritorio\\Proyectos\\SW1 Examen\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\julio\\OneDrive\\Escritorio\\Proyectos\\SW1 Examen\\frontend\\app\\dashboard\\page.tsx"],m="/dashboard/page",u={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},117:(e,t,a)=>{Promise.resolve().then(a.bind(a,7581))},1983:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},7678:()=>{},7581:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(326),s=a(7577),o=a(5047),i=a(3855),n=a(4019),l=a(7947),d=a(2366);function c(){let e=(0,o.useRouter)(),{user:t,logout:a}=(0,l.t)(),{workspaces:c,fetchWorkspaces:m,createWorkspace:u,isLoading:p}=(0,d.Q)(),[x,g]=(0,s.useState)(!1),[h,y]=(0,s.useState)({name:"",description:""}),[b,w]=(0,s.useState)(!1),j=async t=>{if(t.preventDefault(),h.name.trim()){w(!0);try{let t=await u(h);g(!1),y({name:"",description:""}),e.push(`/workspace/${t.id}`)}catch(e){console.error("Error creating workspace:",e),alert("Failed to create workspace. Please try again.")}finally{w(!1)}}},f=()=>{g(!0),y({name:"",description:""})},v=()=>{g(!1),y({name:"",description:""})};return t?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"UML Platform Dashboard"}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Welcome back, ",t.name]})]}),r.jsx("button",{onClick:()=>{a(),e.push("/login")},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Logout"})]})})}),r.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:r.jsx("div",{className:"px-4 py-6 sm:px-0",children:p?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"My Workspaces"}),c.owned.length>0&&(0,r.jsxs)("button",{onClick:f,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm font-medium flex items-center space-x-2",children:[r.jsx(i.Z,{size:16}),r.jsx("span",{children:"New Workspace"})]})]}),r.jsx("div",{className:"mt-5",children:0===c.owned.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-500",children:"No workspaces yet"}),(0,r.jsxs)("button",{onClick:f,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium inline-flex items-center space-x-2",children:[r.jsx(i.Z,{size:16}),r.jsx("span",{children:"Create Your First Workspace"})]})]}):r.jsx("div",{className:"space-y-3",children:c.owned.map(t=>(0,r.jsxs)("div",{onClick:()=>e.push(`/workspace/${t.id}`),className:"border border-gray-200 rounded-md p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:t.name}),r.jsx("p",{className:"text-sm text-gray-500",children:t.description}),(0,r.jsxs)("div",{className:"mt-2 flex items-center text-xs text-gray-400",children:[(0,r.jsxs)("span",{children:[t._count.diagrams," diagrams"]}),r.jsx("span",{className:"mx-2",children:"•"}),(0,r.jsxs)("span",{children:[t._count.collaborators," collaborators"]})]})]},t.id))})})]})}),r.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Shared with Me"}),r.jsx("div",{className:"mt-5",children:0===c.collaborated.length?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"No shared workspaces"})}):r.jsx("div",{className:"space-y-3",children:c.collaborated.map(t=>(0,r.jsxs)("div",{onClick:()=>e.push(`/workspace/${t.id}`),className:"border border-gray-200 rounded-md p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:t.name}),r.jsx("span",{className:"px-2 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded",children:"Colaborador"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:t.description}),(0,r.jsxs)("div",{className:"mt-2 flex items-center text-xs text-gray-400",children:[(0,r.jsxs)("span",{children:["Propietario: ",t.owner.name]}),r.jsx("span",{className:"mx-2",children:"•"}),(0,r.jsxs)("span",{children:[t._count.diagrams," diagramas"]})]})]},t.id))})})]})})]})})}),x&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create New Workspace"}),r.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600",children:r.jsx(n.Z,{size:20})})]}),(0,r.jsxs)("form",{onSubmit:j,children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Workspace Name *"}),r.jsx("input",{type:"text",id:"name",value:h.name,onChange:e=>y({...h,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter workspace name",required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{id:"description",value:h.description,onChange:e=>y({...h,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter workspace description (optional)",rows:3})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:!h.name.trim()||b,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:b?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Creating..."})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.Z,{size:16}),r.jsx("span",{children:"Create Workspace"})]})})]})]})]})})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})})}},6824:(e,t,a)=>{"use strict";a.d(t,{KI:()=>i,kv:()=>s,og:()=>o,pe:()=>l,vM:()=>n});let r=a(4464).Z.create({baseURL:"https://backendsw1-production.up.railway.app/api",timeout:1e4});r.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),r.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)));let s={login:async e=>(await r.post("/auth/login",e)).data,register:async e=>(await r.post("/auth/register",e)).data,getProfile:async()=>(await r.get("/auth/profile")).data,verifyToken:async()=>(await r.get("/auth/verify")).data},o={getWorkspaces:async()=>(await r.get("/workspaces")).data,getWorkspaceById:async e=>(await r.get(`/workspaces/${e}`)).data,createWorkspace:async e=>(await r.post("/workspaces",e)).data,addCollaborator:async(e,t,a)=>(await r.post(`/workspaces/${e}/collaborators`,{email:t,role:a})).data},i={getDiagramById:async e=>(await r.get(`/diagrams/${e}`)).data,createDiagram:async(e,t)=>(await r.post("/diagrams",{workspaceId:e,name:t})).data,updateDiagram:async(e,t)=>(await r.put(`/diagrams/${e}`,{data:t})).data,addClass:async(e,t)=>(await r.post(`/diagrams/${e}/classes`,t)).data,deleteDiagram:async e=>(await r.delete(`/diagrams/${e}`)).data},n={generateUML:async(e,t)=>(await r.post("/ai-chat/generate-uml",{prompt:e,diagramId:t},{timeout:6e4})).data,chat:async(e,t)=>(await r.post("/ai-chat/chat",{message:e,context:t})).data,getSuggestions:async()=>(await r.get("/ai-chat/suggestions")).data,getTemplates:async()=>(await r.get("/ai-chat/templates")).data},l={generateSpringBoot:async e=>(await r.post(`/code-generation/spring-boot/${e}`)).data,downloadProject:async e=>(await r.get(`/code-generation/download/${e}`,{responseType:"blob"})).data,getGeneratedProjects:async()=>(await r.get("/code-generation/projects")).data}},6557:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(7577),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,t)=>{let a=(0,r.forwardRef)(({color:a="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:l,children:d,...c},m)=>(0,r.createElement)("svg",{ref:m,...s,width:i,height:i,stroke:a,strokeWidth:l?24*Number(n)/Number(i):n,className:`lucide lucide-${o(e)}`,...c},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...(Array.isArray(d)?d:[d])||[]]));return a.displayName=`${e}`,a}},3855:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4019:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7947:(e,t,a)=>{"use strict";a.d(t,{t:()=>i});var r=a(3539),s=a(5251),o=a(6824);let i=(0,r.Ue)()((0,s.tJ)((e,t)=>({user:null,token:null,isLoading:!1,error:null,login:async t=>{e({isLoading:!0,error:null});try{let a=await o.kv.login(t);e({user:a.user,token:a.token,isLoading:!1}),localStorage.setItem("token",a.token)}catch(t){throw e({error:t.response?.data?.message||"Login failed",isLoading:!1}),t}},register:async t=>{e({isLoading:!0,error:null});try{let a=await o.kv.register(t);e({user:a.user,token:a.token,isLoading:!1}),localStorage.setItem("token",a.token)}catch(t){throw e({error:t.response?.data?.message||"Registration failed",isLoading:!1}),t}},logout:()=>{e({user:null,token:null,error:null}),localStorage.removeItem("token"),localStorage.removeItem("user")},clearError:()=>{e({error:null})},checkAuth:async()=>{let a=localStorage.getItem("token");if(a)try{if((await o.kv.verifyToken()).valid){let t=await o.kv.getProfile();e({user:t,token:a})}else t().logout()}catch(e){t().logout()}}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token})}))},2366:(e,t,a)=>{"use strict";a.d(t,{Q:()=>o});var r=a(3539),s=a(6824);let o=(0,r.Ue)((e,t)=>({workspaces:{owned:[],collaborated:[]},currentWorkspace:null,isLoading:!1,error:null,fetchWorkspaces:async()=>{e({isLoading:!0,error:null});try{let t=await s.og.getWorkspaces();e({workspaces:t,isLoading:!1})}catch(t){e({error:t.response?.data?.message||"Failed to fetch workspaces",isLoading:!1})}},fetchWorkspaceById:async t=>{e({isLoading:!0,error:null});try{let a=await s.og.getWorkspaceById(t);e({currentWorkspace:a,isLoading:!1})}catch(t){e({error:t.response?.data?.message||"Failed to fetch workspace",isLoading:!1})}},createWorkspace:async a=>{e({isLoading:!0,error:null});try{let r=await s.og.createWorkspace(a),o=t().workspaces;return e({workspaces:{...o,owned:[r,...o.owned]},isLoading:!1}),r}catch(t){throw e({error:t.response?.data?.message||"Failed to create workspace",isLoading:!1}),t}},addCollaborator:async(a,r,o)=>{try{await s.og.addCollaborator(a,r,o),t().currentWorkspace?.id===a&&await t().fetchWorkspaceById(a)}catch(t){throw e({error:t.response?.data?.message||"Failed to add collaborator"}),t}},clearError:()=>{e({error:null})}}))},9521:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`C:\Users\julio\OneDrive\Escritorio\Proyectos\SW1 Examen\frontend\app\dashboard\page.tsx#default`)},1506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n,metadata:()=>i});var r=a(9510),s=a(7366),o=a.n(s);a(7272);let i={title:"UML Collaborative Platform",description:"Create and collaborate on UML diagrams with AI assistance"};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:o().className,children:e})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[480,27],()=>a(1129));module.exports=r})();