(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},1129:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(9521),r(1506),r(5866);var a=r(3191),s=r(8716),o=r(7922),i=r.n(o),n=r(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9521)),"C:\\Users\\julio\\OneDrive\\Escritorio\\Proyectos\\SW1 Examen\\frontend\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"C:\\Users\\julio\\OneDrive\\Escritorio\\Proyectos\\SW1 Examen\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\julio\\OneDrive\\Escritorio\\Proyectos\\SW1 Examen\\frontend\\app\\dashboard\\page.tsx"],m="/dashboard/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},117:(e,t,r)=>{Promise.resolve().then(r.bind(r,7581))},1983:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},7678:()=>{},7581:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(326),s=r(7577),o=r(5047),i=r(3855),n=r(4019),l=r(7947),d=r(2366);function c(){let e=(0,o.useRouter)(),{user:t,logout:r}=(0,l.t)(),{workspaces:c,fetchWorkspaces:m,createWorkspace:u,isLoading:p}=(0,d.Q)(),[x,g]=(0,s.useState)(!1),[h,y]=(0,s.useState)({name:"",description:""}),[b,w]=(0,s.useState)(!1),v=async t=>{if(t.preventDefault(),h.name.trim()){w(!0);try{let t=await u(h);g(!1),y({name:"",description:""}),e.push(`/workspace/${t.id}`)}catch(e){console.error("Error creating workspace:",e),alert("Failed to create workspace. Please try again.")}finally{w(!1)}}},j=()=>{g(!0),y({name:"",description:""})},f=()=>{g(!1),y({name:"",description:""})};return t?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"UML Platform Dashboard"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Welcome back, ",t.name]})]}),a.jsx("button",{onClick:()=>{r(),e.push("/login")},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Logout"})]})})}),a.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:a.jsx("div",{className:"px-4 py-6 sm:px-0",children:p?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"My Workspaces"}),c.owned.length>0&&(0,a.jsxs)("button",{onClick:j,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md text-sm font-medium flex items-center space-x-2",children:[a.jsx(i.Z,{size:16}),a.jsx("span",{children:"New Workspace"})]})]}),a.jsx("div",{className:"mt-5",children:0===c.owned.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-500",children:"No workspaces yet"}),(0,a.jsxs)("button",{onClick:j,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium inline-flex items-center space-x-2",children:[a.jsx(i.Z,{size:16}),a.jsx("span",{children:"Create Your First Workspace"})]})]}):a.jsx("div",{className:"space-y-3",children:c.owned.map(t=>(0,a.jsxs)("div",{onClick:()=>e.push(`/workspace/${t.id}`),className:"border border-gray-200 rounded-md p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:t.name}),a.jsx("p",{className:"text-sm text-gray-500",children:t.description}),(0,a.jsxs)("div",{className:"mt-2 flex items-center text-xs text-gray-400",children:[(0,a.jsxs)("span",{children:[t._count.diagrams," diagrams"]}),a.jsx("span",{className:"mx-2",children:"â€¢"}),(0,a.jsxs)("span",{children:[t._count.collaborators," collaborators"]})]})]},t.id))})})]})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Shared with Me"}),a.jsx("div",{className:"mt-5",children:0===c.collaborated.length?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"No shared workspaces"})}):a.jsx("div",{className:"space-y-3",children:c.collaborated.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-md p-4 hover:bg-gray-50 cursor-pointer",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.description}),(0,a.jsxs)("div",{className:"mt-2 flex items-center text-xs text-gray-400",children:[(0,a.jsxs)("span",{children:["Owner: ",e.owner.name]}),a.jsx("span",{className:"mx-2",children:"â€¢"}),(0,a.jsxs)("span",{children:[e._count.diagrams," diagrams"]})]})]},e.id))})})]})})]})})}),x&&a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create New Workspace"}),a.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600",children:a.jsx(n.Z,{size:20})})]}),(0,a.jsxs)("form",{onSubmit:v,children:[(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Workspace Name *"}),a.jsx("input",{type:"text",id:"name",value:h.name,onChange:e=>y({...h,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter workspace name",required:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{id:"description",value:h.description,onChange:e=>y({...h,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter workspace description (optional)",rows:3})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:!h.name.trim()||b,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:b?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Creating..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.Z,{size:16}),a.jsx("span",{children:"Create Workspace"})]})})]})]})]})})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})})}},6824:(e,t,r)=>{"use strict";r.d(t,{KI:()=>i,kv:()=>s,og:()=>o,pe:()=>l,vM:()=>n});let a=r(4464).Z.create({baseURL:"http://localhost:3002/api",timeout:1e4});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),a.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)));let s={login:async e=>(await a.post("/auth/login",e)).data,register:async e=>(await a.post("/auth/register",e)).data,getProfile:async()=>(await a.get("/auth/profile")).data,verifyToken:async()=>(await a.get("/auth/verify")).data},o={getWorkspaces:async()=>(await a.get("/workspaces")).data,getWorkspaceById:async e=>(await a.get(`/workspaces/${e}`)).data,createWorkspace:async e=>(await a.post("/workspaces",e)).data,addCollaborator:async(e,t,r)=>(await a.post(`/workspaces/${e}/collaborators`,{email:t,role:r})).data},i={getDiagramById:async e=>(await a.get(`/diagrams/${e}`)).data,createDiagram:async(e,t)=>(await a.post("/diagrams",{workspaceId:e,name:t})).data,updateDiagram:async(e,t)=>(await a.put(`/diagrams/${e}`,{data:t})).data,addClass:async(e,t)=>(await a.post(`/diagrams/${e}/classes`,t)).data},n={generateUML:async(e,t)=>(await a.post("/ai-chat/generate-uml",{prompt:e,diagramId:t})).data,chat:async(e,t)=>(await a.post("/ai-chat/chat",{message:e,context:t})).data,getSuggestions:async()=>(await a.get("/ai-chat/suggestions")).data,getTemplates:async()=>(await a.get("/ai-chat/templates")).data},l={generateSpringBoot:async e=>(await a.post(`/code-generation/spring-boot/${e}`)).data,downloadProject:async e=>(await a.get(`/code-generation/download/${e}`,{responseType:"blob"})).data,getGeneratedProjects:async()=>(await a.get("/code-generation/projects")).data}},6557:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(7577),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,t)=>{let r=(0,a.forwardRef)(({color:r="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:l,children:d,...c},m)=>(0,a.createElement)("svg",{ref:m,...s,width:i,height:i,stroke:r,strokeWidth:l?24*Number(n)/Number(i):n,className:`lucide lucide-${o(e)}`,...c},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...(Array.isArray(d)?d:[d])||[]]));return r.displayName=`${e}`,r}},3855:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4019:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7947:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var a=r(3539),s=r(5251),o=r(6824);let i=(0,a.Ue)()((0,s.tJ)((e,t)=>({user:null,token:null,isLoading:!1,error:null,login:async t=>{e({isLoading:!0,error:null});try{let r=await o.kv.login(t);e({user:r.user,token:r.token,isLoading:!1}),localStorage.setItem("token",r.token)}catch(t){throw e({error:t.response?.data?.message||"Login failed",isLoading:!1}),t}},register:async t=>{e({isLoading:!0,error:null});try{let r=await o.kv.register(t);e({user:r.user,token:r.token,isLoading:!1}),localStorage.setItem("token",r.token)}catch(t){throw e({error:t.response?.data?.message||"Registration failed",isLoading:!1}),t}},logout:()=>{e({user:null,token:null,error:null}),localStorage.removeItem("token"),localStorage.removeItem("user")},clearError:()=>{e({error:null})},checkAuth:async()=>{let r=localStorage.getItem("token");if(r)try{if((await o.kv.verifyToken()).valid){let t=await o.kv.getProfile();e({user:t,token:r})}else t().logout()}catch(e){t().logout()}}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token})}))},2366:(e,t,r)=>{"use strict";r.d(t,{Q:()=>o});var a=r(3539),s=r(6824);let o=(0,a.Ue)((e,t)=>({workspaces:{owned:[],collaborated:[]},currentWorkspace:null,isLoading:!1,error:null,fetchWorkspaces:async()=>{e({isLoading:!0,error:null});try{let t=await s.og.getWorkspaces();e({workspaces:t,isLoading:!1})}catch(t){e({error:t.response?.data?.message||"Failed to fetch workspaces",isLoading:!1})}},fetchWorkspaceById:async t=>{e({isLoading:!0,error:null});try{let r=await s.og.getWorkspaceById(t);e({currentWorkspace:r,isLoading:!1})}catch(t){e({error:t.response?.data?.message||"Failed to fetch workspace",isLoading:!1})}},createWorkspace:async r=>{e({isLoading:!0,error:null});try{let a=await s.og.createWorkspace(r),o=t().workspaces;return e({workspaces:{...o,owned:[a,...o.owned]},isLoading:!1}),a}catch(t){throw e({error:t.response?.data?.message||"Failed to create workspace",isLoading:!1}),t}},addCollaborator:async(r,a,o)=>{try{await s.og.addCollaborator(r,a,o),t().currentWorkspace?.id===r&&await t().fetchWorkspaceById(r)}catch(t){throw e({error:t.response?.data?.message||"Failed to add collaborator"}),t}},clearError:()=>{e({error:null})}}))},9521:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\julio\OneDrive\Escritorio\Proyectos\SW1 Examen\frontend\app\dashboard\page.tsx#default`)},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>i});var a=r(9510),s=r(7366),o=r.n(s);r(7272);let i={title:"UML Collaborative Platform",description:"Create and collaborate on UML diagrams with AI assistance"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:o().className,children:e})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[480,27],()=>r(1129));module.exports=a})();